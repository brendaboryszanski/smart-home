# Smart Home Assistant Configuration
# ==================================
#
# Copy this file to config.yaml and fill in your values.
# Use ${VAR_NAME} to reference environment variables.

# ==============================================================================
# AUDIO INPUT - Choose ONE source
# ==============================================================================
# Options:
#   - http: Receives text commands via HTTP (for Alexa, webhooks)
#   - file: Watches a directory for audio files
#   - microphone: Direct voice input with wake word (requires -tags portaudio)

audio:
  source: http

  # --- HTTP source settings (only if source: http) ---
  http_addr: ":8080"
  auth_token: "${ALEXA_AUTH_TOKEN}"  # Optional. Generate: openssl rand -hex 32

  # --- File source settings (only if source: file) ---
  # file_dir: "./audio"

  # --- Microphone source settings (only if source: microphone) ---
  # wake_word: "home"
  # sample_rate: 16000

# ==============================================================================
# LLM FOR INTENT PARSING - Configure ONE (Anthropic OR Gemini)
# ==============================================================================
# You only need ONE of these. The system will use whichever has an API key.
# If both are configured, Anthropic takes priority.

# Option 1: Anthropic Claude
anthropic:
  api_key: "${ANTHROPIC_API_KEY}"
  model: "claude-sonnet-4-20250514"

# Option 2: Google Gemini (alternative to Anthropic)
# gemini:
#   api_key: "${GEMINI_API_KEY}"
#   model: "gemini-2.0-flash"

# ==============================================================================
# SPEECH-TO-TEXT - Only needed for audio input (file or microphone sources)
# ==============================================================================
# NOT needed if you only use Alexa/HTTP text commands.

# openai:
#   api_key: "${OPENAI_API_KEY}"
#   language: "en"

# ==============================================================================
# SMART HOME BACKEND - Home Assistant
# ==============================================================================
# Works with Tuya Local integration - no cloud subscription needed!
# To get your token: Home Assistant -> Profile -> Long-Lived Access Tokens

homeassistant:
  url: "http://homeassistant.local:8123"  # Your Home Assistant URL
  token: "${HOMEASSISTANT_TOKEN}"
  sync_interval: "5m"

# ==============================================================================
# OPTIONAL
# ==============================================================================

pushover:
  enabled: false
  # token: "${PUSHOVER_TOKEN}"
  # user_key: "${PUSHOVER_USER_KEY}"

log:
  level: "info"   # Options: debug, info, warn, error
  format: "text"  # Options: text, json
